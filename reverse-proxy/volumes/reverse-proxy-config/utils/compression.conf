# Enable Gzip compression
gzip on;

# Compression level (1-9), 5 balances size and CPU usage
gzip_comp_level 5;

# Skip compression for files smaller than 256 bytes
gzip_min_length 256;

# Enable compression for clients using proxies (e.g., CloudFront)
gzip_proxied any;

# Cache both compressed and uncompressed versions based on Accept-Encoding
gzip_vary on;

# MIME types to compress
gzip_types
application/atom+xml
application/javascript
application/json
application/ld+json
application/manifest+json
application/rss+xml
application/vnd.geo+json
application/vnd.ms-fontobject
application/x-font-ttf
application/x-web-app-manifest+json
application/xhtml+xml
application/xml
font/opentype
image/bmp
image/svg+xml
image/x-icon
text/cache-manifest
text/css
text/plain
text/vcard
text/vnd.rim.location.xloc
text/vtt
text/x-component
text/x-cross-domain-policy;
# Note: text/html is always compressed by HttpGzipModule